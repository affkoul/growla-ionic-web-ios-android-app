{"version":3,"sources":["./src/addons/calendar/pages/event/event.html","./src/addons/calendar/pages/event/event.module.ts","./src/addons/calendar/pages/event/event.page.ts","./src/addons/calendar/pages/event/event.scss"],"names":[],"mappings":"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","file":"addons-calendar-pages-event-event-module.js","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar>\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button [text]=\\\"'core.back' | translate\\\"></ion-back-button>\\n        </ion-buttons>\\n        <h1 *ngIf=\\\"event\\\">\\n            <img *ngIf=\\\"event.moduleIcon\\\" src=\\\"{{event.moduleIcon}}\\\" alt=\\\"\\\" role=\\\"presentation\\\" class=\\\"core-module-icon\\\">\\n            <ion-icon *ngIf=\\\"event.eventIcon && !event.moduleIcon\\\" [name]=\\\"event.eventIcon\\\" aria-hidden=\\\"true\\\"></ion-icon>\\n            <!-- Add the icon title so accessibility tools read it. -->\\n            <span class=\\\"sr-only\\\">\\n                {{ 'addon.calendar.type' + event.formattedType | translate }}\\n                <span class=\\\"sr-only\\\" *ngIf=\\\"event.moduleIcon && event.iconTitle\\\">{{ event.iconTitle }}</span>\\n            </span>\\n            <core-format-text [text]=\\\"event.name\\\" [contextLevel]=\\\"event.contextLevel\\\"\\n                [contextInstanceId]=\\\"event.contextInstanceId\\\"></core-format-text>\\n        </h1>\\n        <ion-buttons slot=\\\"end\\\">\\n            <!-- The context menu will be added in here. -->\\n        </ion-buttons>\\n    </ion-toolbar>\\n</ion-header>\\n<core-navbar-buttons slot=\\\"end\\\">\\n    <core-context-menu>\\n        <core-context-menu-item [hidden]=\\\"isSplitViewOn || !eventLoaded || (!hasOffline && event && !event.deleted) || !isOnline\\\"\\n            [priority]=\\\"400\\\" [content]=\\\"'core.settings.synchronizenow' | translate\\\" (action)=\\\"doRefresh(undefined, $event, true)\\\"\\n            [iconAction]=\\\"syncIcon\\\" [closeOnClick]=\\\"false\\\">\\n        </core-context-menu-item>\\n        <core-context-menu-item [hidden]=\\\"!canEdit || !event || !event.canedit || event.deleted\\\" [priority]=\\\"300\\\"\\n            [content]=\\\"'core.edit' | translate\\\" (action)=\\\"openEdit()\\\" iconAction=\\\"fas-edit\\\">\\n        </core-context-menu-item>\\n        <core-context-menu-item [hidden]=\\\"!canDelete || !event || !event.candelete || event.deleted\\\" [priority]=\\\"200\\\"\\n            [content]=\\\"'core.delete' | translate\\\" (action)=\\\"deleteEvent()\\\"\\n            iconAction=\\\"fas-trash\\\"></core-context-menu-item>\\n        <core-context-menu-item [hidden]=\\\"!event || !event.deleted\\\" [priority]=\\\"200\\\" [content]=\\\"'core.restore' | translate\\\"\\n            (action)=\\\"undoDelete()\\\" iconAction=\\\"fas-undo-alt\\\"></core-context-menu-item>\\n    </core-context-menu>\\n</core-navbar-buttons>\\n<ion-content>\\n    <ion-refresher slot=\\\"fixed\\\" [disabled]=\\\"!eventLoaded\\\" (ionRefresh)=\\\"doRefresh($event.target)\\\">\\n        <ion-refresher-content pullingText=\\\"{{ 'core.pulltorefresh' | translate }}\\\"></ion-refresher-content>\\n    </ion-refresher>\\n    <core-loading [hideUntil]=\\\"eventLoaded\\\">\\n        <!-- There is data to be synchronized -->\\n        <ion-card class=\\\"core-warning-card\\\" *ngIf=\\\"hasOffline || (event && event.deleted)\\\">\\n            <ion-item>\\n                <ion-icon name=\\\"fas-exclamation-triangle\\\" slot=\\\"start\\\" aria-hidden=\\\"true\\\"></ion-icon>\\n                <ion-label>{{ 'core.hasdatatosync' | translate:{$a: 'addon.calendar.calendarevent' | translate} }}</ion-label>\\n            </ion-item>\\n        </ion-card>\\n\\n        <ion-card>\\n            <ion-card-content *ngIf=\\\"event\\\">\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"isSplitViewOn\\\">\\n                    <img *ngIf=\\\"event.moduleIcon\\\" src=\\\"{{event.moduleIcon}}\\\" slot=\\\"start\\\" alt=\\\"\\\" role=\\\"presentation\\\"\\n                        class=\\\"core-module-icon\\\">\\n                    <ion-icon *ngIf=\\\"event.eventIcon && !event.moduleIcon\\\" [name]=\\\"event.eventIcon\\\" slot=\\\"start\\\" aria-hidden=\\\"true\\\">\\n                    </ion-icon>\\n                    <ion-label>\\n                        <span class=\\\"sr-only\\\">\\n                            {{ 'addon.calendar.type' + event.formattedType | translate }}\\n                            <span class=\\\"sr-only\\\" *ngIf=\\\"event.moduleIcon && event.iconTitle\\\">{{ event.iconTitle }}</span>\\n                        </span>\\n                        <h2>{{ 'addon.calendar.eventname' | translate }}</h2>\\n                        <p>\\n                            <core-format-text [text]=\\\"event.name\\\" [contextLevel]=\\\"event.contextLevel\\\"\\n                                [contextInstanceId]=\\\"event.contextInstanceId\\\"></core-format-text>\\n                        </p>\\n                    </ion-label>\\n                    <ion-note slot=\\\"end\\\" *ngIf=\\\"event.deleted\\\">\\n                        <ion-icon name=\\\"fas-trash\\\" aria-hidden=\\\"true\\\"></ion-icon> {{ 'core.deletedoffline' | translate }}\\n                    </ion-note>\\n                </ion-item>\\n                <ion-item>\\n                    <ion-label>\\n                        <h2>{{ 'addon.calendar.when' | translate }}</h2>\\n                        <core-format-text [text]=\\\"event.formattedtime\\\" [contextLevel]=\\\"event.contextLevel\\\"\\n                        [contextInstanceId]=\\\"event.contextInstanceId\\\"></core-format-text>\\n                    </ion-label>\\n                    <ion-note slot=\\\"end\\\" *ngIf=\\\"!isSplitViewOn && event.deleted\\\">\\n                        <ion-icon name=\\\"fas-trash\\\" aria-hidden=\\\"true\\\"></ion-icon> {{ 'core.deletedoffline' | translate }}\\n                    </ion-note>\\n                </ion-item>\\n                <ion-item>\\n                    <ion-label>\\n                        <h2>{{ 'addon.calendar.eventtype' | translate }}</h2>\\n                        <p>{{ 'addon.calendar.type' + event.formattedType | translate }}</p>\\n                    </ion-label>\\n                </ion-item>\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"courseName\\\" [href]=\\\"courseUrl\\\" core-link capture=\\\"true\\\">\\n                    <ion-label>\\n                        <h2>{{ 'core.course' | translate}}</h2>\\n                        <p>\\n                            <core-format-text [text]=\\\"courseName\\\" contextLevel=\\\"course\\\" [contextInstanceId]=\\\"courseId\\\">\\n                            </core-format-text>\\n                        </p>\\n                    </ion-label>\\n                </ion-item>\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"groupName\\\">\\n                    <ion-label>\\n                        <h2>{{ 'core.group' | translate}}</h2>\\n                        <p>{{ groupName }}</p>\\n                    </ion-label>\\n                </ion-item>\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"categoryPath\\\">\\n                    <ion-label>\\n                        <h2>{{ 'core.category' | translate}}</h2>\\n                        <p><core-format-text [text]=\\\"categoryPath\\\" contextLevel=\\\"coursecat\\\"\\n                            [contextInstanceId]=\\\"event.categoryid\\\"></core-format-text></p>\\n                    </ion-label>\\n                </ion-item>\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"event.description\\\">\\n                    <ion-label>\\n                        <h2>{{ 'core.description' | translate}}</h2>\\n                        <p>\\n                            <core-format-text [text]=\\\"event.description\\\" [contextLevel]=\\\"event.contextLevel\\\"\\n                                [contextInstanceId]=\\\"event.contextInstanceId\\\"></core-format-text>\\n                        </p>\\n                    </ion-label>\\n                </ion-item>\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"event.location\\\">\\n                    <ion-label>\\n                        <h2>{{ 'core.location' | translate}}</h2>\\n                        <p>\\n                            <a [href]=\\\"event.encodedLocation\\\" core-link auto-login=\\\"no\\\">\\n                                <core-format-text [text]=\\\"event.location\\\" [contextLevel]=\\\"event.contextLevel\\\"\\n                                    [contextInstanceId]=\\\"event.contextInstanceId\\\"></core-format-text>\\n                            </a>\\n                        </p>\\n                    </ion-label>\\n                </ion-item>\\n                <ion-item *ngIf=\\\"moduleUrl\\\">\\n                    <ion-label>\\n                        <ion-button expand=\\\"block\\\" color=\\\"primary\\\" [href]=\\\"moduleUrl\\\" core-link capture=\\\"true\\\">\\n                            {{ 'addon.calendar.gotoactivity' | translate }}\\n                        </ion-button>\\n                    </ion-label>\\n                </ion-item>\\n            </ion-card-content>\\n        </ion-card>\\n\\n        <ion-card list *ngIf=\\\"notificationsEnabled && event\\\">\\n            <ion-item>\\n                <ion-label>\\n                    <h2>{{ 'addon.calendar.reminders' | translate }}</h2>\\n                </ion-label>\\n            </ion-item>\\n            <ng-container *ngFor=\\\"let reminder of reminders\\\">\\n                <ion-item *ngIf=\\\"reminder.time > 0 || defaultTime > 0\\\" class=\\\"ion-text-wrap\\\"\\n                    [class.item-dimmed]=\\\"(reminder.time == -1 ? (event.timestart - defaultTime) : reminder.time) <= currentTime!\\\">\\n                    <ion-label>\\n                        <p *ngIf=\\\"reminder.time == -1\\\">\\n                            {{ 'core.defaultvalue' | translate :{$a: ((event.timestart - defaultTime) * 1000) | coreFormatDate } }}\\n                        </p>\\n                        <p *ngIf=\\\"reminder.time > 0\\\">{{ reminder.time * 1000 | coreFormatDate }}</p>\\n                    </ion-label>\\n                    <ion-button fill=\\\"clear\\\" (click)=\\\"cancelNotification(reminder.id, $event)\\\"\\n                        [attr.aria-label]=\\\"'core.delete' | translate\\\" slot=\\\"end\\\"\\n                        *ngIf=\\\"(reminder.time == -1 ? (event.timestart - defaultTime) : reminder.time) > currentTime!\\\">\\n                        <ion-icon name=\\\"fas-trash\\\" color=\\\"danger\\\" slot=\\\"icon-only\\\" aria-hidden=\\\"true\\\"></ion-icon>\\n                    </ion-button>\\n                </ion-item>\\n            </ng-container>\\n\\n            <ng-container *ngIf=\\\"event.timestart + event.timeduration > currentTime!\\\">\\n                <ion-item>\\n                    <ion-label>\\n                        <ion-button expand=\\\"block\\\" color=\\\"primary\\\" (click)=\\\"notificationPicker.open()\\\">\\n                            {{ 'addon.calendar.setnewreminder' | translate }}\\n                        </ion-button>\\n                    </ion-label>\\n                </ion-item>\\n                <ion-datetime #notificationPicker hidden [(ngModel)]=\\\"notificationTimeText\\\"\\n                    [displayFormat]=\\\"notificationFormat\\\" [min]=\\\"notificationMin\\\" [max]=\\\"notificationMax\\\"\\n                    [doneText]=\\\"'core.add' | translate\\\" (ionChange)=\\\"addNotificationTime()\\\" [monthNames]=\\\"monthNames\\\">\\n                </ion-datetime>\\n            </ng-container>\\n        </ion-card>\\n    </core-loading>\\n</ion-content>\\n\";","// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { CoreSharedModule } from '@/core/shared.module';\nimport { AddonCalendarComponentsModule } from '../../components/components.module';\n\nimport { AddonCalendarEventPage } from './event.page';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: AddonCalendarEventPage,\n    },\n];\n\n@NgModule({\n    imports: [\n        RouterModule.forChild(routes),\n        CoreSharedModule,\n        AddonCalendarComponentsModule,\n    ],\n    declarations: [\n        AddonCalendarEventPage,\n    ],\n    exports: [RouterModule],\n})\nexport class AddonCalendarEventPageModule {}\n","// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, OnDestroy, OnInit, Optional } from '@angular/core';\nimport { IonRefresher } from '@ionic/angular';\nimport { AlertOptions } from '@ionic/core';\nimport {\n    AddonCalendar,\n    AddonCalendarEvent,\n    AddonCalendarEventBase,\n    AddonCalendarEventToDisplay,\n    AddonCalendarGetEventsEvent,\n    AddonCalendarProvider,\n} from '../../services/calendar';\nimport { AddonCalendarHelper } from '../../services/calendar-helper';\nimport { AddonCalendarOffline } from '../../services/calendar-offline';\nimport { AddonCalendarSync, AddonCalendarSyncEvents, AddonCalendarSyncProvider } from '../../services/calendar-sync';\nimport { CoreCourses } from '@features/courses/services/courses';\nimport { CoreApp } from '@services/app';\nimport { CoreEventObserver, CoreEvents } from '@singletons/events';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreTextUtils } from '@services/utils/text';\nimport { CoreSites } from '@services/sites';\nimport { CoreLocalNotifications } from '@services/local-notifications';\nimport { CoreCourse } from '@features/course/services/course';\nimport { CoreTimeUtils } from '@services/utils/time';\nimport { CoreGroups } from '@services/groups';\nimport { CoreSplitViewComponent } from '@components/split-view/split-view';\nimport { Network, NgZone, Translate } from '@singletons';\nimport { Subscription } from 'rxjs';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreUtils } from '@services/utils/utils';\nimport { AddonCalendarReminderDBRecord } from '../../services/database/calendar';\nimport { ActivatedRoute } from '@angular/router';\nimport { CoreScreen } from '@services/screen';\nimport { CoreConstants } from '@/core/constants';\nimport { CoreLang } from '@services/lang';\n\n/**\n * Page that displays a single calendar event.\n */\n@Component({\n    selector: 'page-addon-calendar-event',\n    templateUrl: 'event.html',\n    styleUrls: ['event.scss'],\n})\nexport class AddonCalendarEventPage implements OnInit, OnDestroy {\n\n    protected eventId!: number;\n    protected siteHomeId: number;\n    protected editEventObserver: CoreEventObserver;\n    protected syncObserver: CoreEventObserver;\n    protected manualSyncObserver: CoreEventObserver;\n    protected onlineObserver: Subscription;\n    protected currentSiteId: string;\n\n    eventLoaded = false;\n    notificationFormat?: string;\n    notificationMin?: string;\n    notificationMax?: string;\n    notificationTimeText?: string;\n    event?: AddonCalendarEventToDisplay;\n    courseId?: number;\n    courseName = '';\n    groupName?: string;\n    courseUrl = '';\n    notificationsEnabled = false;\n    moduleUrl = '';\n    categoryPath = '';\n    currentTime?: number;\n    defaultTime = 0;\n    reminders: AddonCalendarReminderDBRecord[] = [];\n    canEdit = false;\n    canDelete = false;\n    hasOffline = false;\n    isOnline = false;\n    syncIcon = CoreConstants.ICON_LOADING; // Sync icon.\n    isSplitViewOn = false;\n    monthNames?: string[];\n\n    constructor(\n        @Optional() protected svComponent: CoreSplitViewComponent,\n        protected route: ActivatedRoute,\n    ) {\n\n        this.notificationsEnabled = CoreLocalNotifications.isAvailable();\n        this.siteHomeId = CoreSites.getCurrentSiteHomeId();\n        this.currentSiteId = CoreSites.getCurrentSiteId();\n        this.isSplitViewOn = this.svComponent?.outletActivated;\n\n        // Check if site supports editing and deleting. No need to check allowed types, event.canedit already does it.\n        this.canEdit = AddonCalendar.canEditEventsInSite();\n        this.canDelete = AddonCalendar.canDeleteEventsInSite();\n\n        // Listen for event edited. If current event is edited, reload the data.\n        this.editEventObserver = CoreEvents.on(AddonCalendarProvider.EDIT_EVENT_EVENT, (data) => {\n            if (data && data.eventId == this.eventId) {\n                this.eventLoaded = false;\n                this.refreshEvent(true, false);\n            }\n        }, this.currentSiteId);\n\n        // Refresh data if this calendar event is synchronized automatically.\n        this.syncObserver = CoreEvents.on(\n            AddonCalendarSyncProvider.AUTO_SYNCED,\n            this.checkSyncResult.bind(this, false),\n            this.currentSiteId,\n        );\n\n        // Refresh data if calendar events are synchronized manually but not by this page.\n        this.manualSyncObserver = CoreEvents.on(\n            AddonCalendarSyncProvider.MANUAL_SYNCED,\n            this.checkSyncResult.bind(this, true),\n            this.currentSiteId,\n        );\n\n        // Refresh online status when changes.\n        this.onlineObserver = Network.onChange().subscribe(() => {\n            // Execute the callback in the Angular zone, so change detection doesn't stop working.\n            NgZone.run(() => {\n                this.isOnline = CoreApp.isOnline();\n            });\n        });\n    }\n\n    protected async initReminders(): Promise<void> {\n        if (this.notificationsEnabled) {\n            this.monthNames = CoreLang.getMonthNames();\n\n            this.reminders = await AddonCalendar.getEventReminders(this.eventId);\n            this.defaultTime = await AddonCalendar.getDefaultNotificationTime() * 60;\n\n            // Calculate format to use.\n            this.notificationFormat =\n                CoreTimeUtils.fixFormatForDatetime(CoreTimeUtils.convertPHPToMoment(\n                    Translate.instant('core.strftimedatetime'),\n                ));\n        }\n    }\n\n    /**\n     * View loaded.\n     */\n    ngOnInit(): void {\n        this.eventId = CoreNavigator.getRouteNumberParam('id')!;\n        this.syncIcon = CoreConstants.ICON_LOADING;\n\n        this.fetchEvent();\n        this.initReminders();\n    }\n\n    /**\n     * Fetches the event and updates the view.\n     *\n     * @param sync Whether it should try to synchronize offline events.\n     * @param showErrors Whether to show sync errors to the user.\n     * @return Promise resolved when done.\n     */\n    async fetchEvent(sync = false, showErrors = false): Promise<void> {\n        const currentSite = CoreSites.getCurrentSite();\n        const canGetById = AddonCalendar.isGetEventByIdAvailableInSite();\n        let deleted = false;\n\n        this.isOnline = CoreApp.isOnline();\n\n        if (sync) {\n            // Try to synchronize offline events.\n            try {\n                const result = await AddonCalendarSync.syncEvents();\n                if (result.warnings && result.warnings.length) {\n                    CoreDomUtils.showErrorModal(result.warnings[0]);\n                }\n\n                if (result.deleted && result.deleted.indexOf(this.eventId) != -1) {\n                    // This event was deleted during the sync.\n                    deleted = true;\n                }\n\n                if (result.updated) {\n                    // Trigger a manual sync event.\n                    result.source = 'event';\n\n                    CoreEvents.trigger(\n                        AddonCalendarSyncProvider.MANUAL_SYNCED,\n                        result,\n                        this.currentSiteId,\n                    );\n                }\n            } catch (error) {\n                if (showErrors) {\n                    CoreDomUtils.showErrorModalDefault(error, 'core.errorsync', true);\n                }\n            }\n        }\n\n        if (deleted) {\n            return;\n        }\n\n        try {\n            let event: AddonCalendarEvent | AddonCalendarEventBase | AddonCalendarGetEventsEvent;\n            // Get the event data.\n            if (canGetById) {\n                event = await AddonCalendar.getEventById(this.eventId);\n            } else {\n                event = await AddonCalendar.getEvent(this.eventId);\n            }\n            this.event = AddonCalendarHelper.formatEventData(event);\n\n            try {\n                const offlineEvent = AddonCalendarHelper.formatOfflineEventData(\n                    await AddonCalendarOffline.getEvent(this.eventId),\n                );\n\n                // There is offline data, apply it.\n                this.hasOffline = true;\n\n                this.event = Object.assign(this.event, offlineEvent);\n            } catch {\n                // No offline data.\n                this.hasOffline = false;\n            }\n\n            this.currentTime = CoreTimeUtils.timestamp();\n            this.notificationMin = CoreTimeUtils.userDate(this.currentTime * 1000, 'YYYY-MM-DDTHH:mm', false);\n            this.notificationMax = CoreTimeUtils.userDate(\n                (this.event!.timestart + this.event!.timeduration) * 1000,\n                'YYYY-MM-DDTHH:mm',\n                false,\n            );\n\n            // Reset some of the calculated data.\n            this.categoryPath = '';\n            this.courseName = '';\n            this.courseUrl = '';\n            this.moduleUrl = '';\n\n            if (this.event!.moduleIcon) {\n                // It's a module event, translate the module name to the current language.\n                const name = CoreCourse.translateModuleName(this.event!.modulename || '');\n                if (name.indexOf('core.mod_') === -1) {\n                    this.event!.modulename = name;\n                }\n\n                // Get the module URL.\n                if (canGetById) {\n                    this.moduleUrl = this.event!.url || '';\n                }\n            }\n\n            const promises: Promise<void>[] = [];\n\n            const courseId = this.event.courseid;\n            if (courseId != this.siteHomeId) {\n                // If the event belongs to a course, get the course name and the URL to view it.\n                if (canGetById && this.event.course) {\n                    this.courseId = this.event.course.id;\n                    this.courseName = this.event.course.fullname;\n                    this.courseUrl = this.event.course.viewurl;\n                } else if (!canGetById && this.event.courseid ) {\n                    // Retrieve the course.\n                    promises.push(CoreCourses.getUserCourse(this.event.courseid, true).then((course) => {\n                        this.courseId = course.id;\n                        this.courseName = course.fullname;\n                        this.courseUrl = currentSite ? CoreTextUtils.concatenatePaths(\n                            currentSite.siteUrl,\n                            '/course/view.php?id=' + this.courseId,\n                        ) : '';\n\n                        return;\n                    }).catch(() => {\n                        // Error getting course, just don't show the course name.\n                    }));\n                }\n            }\n\n            // If it's a group event, get the name of the group.\n            if (courseId && this.event.groupid) {\n                promises.push(CoreGroups.getUserGroupsInCourse(courseId).then((groups) => {\n                    const group = groups.find((group) => group.id == this.event!.groupid);\n\n                    this.groupName = group ? group.name : '';\n\n                    return;\n                }).catch(() => {\n                    // Error getting groups, just don't show the group name.\n                    this.groupName = '';\n                }));\n            }\n\n            if (canGetById && this.event.iscategoryevent && this.event.category) {\n                this.categoryPath = this.event.category.nestedname;\n            }\n\n            if (this.event.location) {\n                // Build a link to open the address in maps.\n                this.event.location = CoreTextUtils.decodeHTML(this.event.location);\n                this.event.encodedLocation = CoreTextUtils.buildAddressURL(this.event.location);\n            }\n\n            // Check if event was deleted in offine.\n            promises.push(AddonCalendarOffline.isEventDeleted(this.eventId).then((deleted) => {\n                this.event!.deleted = deleted;\n\n                return;\n            }));\n\n            // Re-calculate the formatted time so it uses the device date.\n            promises.push(AddonCalendar.getCalendarTimeFormat().then(async (timeFormat) => {\n                this.event!.formattedtime = await AddonCalendar.formatEventTime(this.event!, timeFormat);\n\n                return;\n            }));\n\n            await Promise.all(promises);\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'addon.calendar.errorloadevent', true);\n        }\n\n        this.eventLoaded = true;\n        this.syncIcon = CoreConstants.ICON_SYNC;\n    }\n\n    /**\n     * Add a reminder for this event.\n     */\n    async addNotificationTime(): Promise<void> {\n        if (this.notificationTimeText && this.event && this.event.id) {\n            let notificationTime = CoreTimeUtils.convertToTimestamp(this.notificationTimeText);\n\n            const currentTime = CoreTimeUtils.timestamp();\n            const minute = Math.floor(currentTime / 60) * 60;\n\n            // Check if the notification time is in the same minute as we are, so the notification is triggered.\n            if (notificationTime >= minute && notificationTime < minute + 60) {\n                notificationTime = currentTime + 1;\n            }\n\n            await AddonCalendar.addEventReminder(this.event, notificationTime);\n            this.reminders = await AddonCalendar.getEventReminders(this.eventId);\n            this.notificationTimeText = undefined;\n        }\n    }\n\n    /**\n     * Cancel the selected notification.\n     *\n     * @param id Reminder ID.\n     * @param e Click event.\n     */\n    async cancelNotification(id: number, e: Event): Promise<void> {\n        e.preventDefault();\n        e.stopPropagation();\n\n        try {\n            await CoreDomUtils.showDeleteConfirm();\n\n            const modal = await CoreDomUtils.showModalLoading('core.deleting', true);\n\n            try {\n                await AddonCalendar.deleteEventReminder(id);\n                this.reminders = await AddonCalendar.getEventReminders(this.eventId);\n            } catch (error) {\n                CoreDomUtils.showErrorModalDefault(error, 'Error deleting reminder');\n            } finally {\n                modal.dismiss();\n            }\n        } catch {\n            // Ignore errors.\n        }\n    }\n\n    /**\n     * Refresh the data.\n     *\n     * @param refresher Refresher.\n     * @param done Function to call when done.\n     * @param showErrors Whether to show sync errors to the user.\n     * @return Promise resolved when done.\n     */\n    async doRefresh(refresher?: IonRefresher, done?: () => void, showErrors= false): Promise<void> {\n        if (!this.eventLoaded) {\n            return;\n        }\n\n        await this.refreshEvent(true, showErrors).finally(() => {\n            refresher?.complete();\n            done && done();\n        });\n    }\n\n    /**\n     * Refresh the event.\n     *\n     * @param sync Whether it should try to synchronize offline events.\n     * @param showErrors Whether to show sync errors to the user.\n     * @return Promise resolved when done.\n     */\n    async refreshEvent(sync = false, showErrors = false): Promise<void> {\n        this.syncIcon = CoreConstants.ICON_LOADING;\n\n        const promises: Promise<void>[] = [];\n\n        promises.push(AddonCalendar.invalidateEvent(this.eventId));\n        promises.push(AddonCalendar.invalidateTimeFormat());\n\n        await CoreUtils.allPromisesIgnoringErrors(promises);\n\n        await this.fetchEvent(sync, showErrors);\n    }\n\n    /**\n     * Open the page to edit the event.\n     */\n    openEdit(): void {\n        CoreNavigator.navigateToSitePath(`/calendar/edit/${this.eventId}`);\n    }\n\n    /**\n     * Delete the event.\n     */\n    async deleteEvent(): Promise<void> {\n        if (!this.event) {\n            return;\n        }\n\n        const title = Translate.instant('addon.calendar.deleteevent');\n        const options: AlertOptions = {};\n        let message: string;\n\n        if (this.event.eventcount > 1) {\n            // It's a repeated event.\n            message = Translate.instant(\n                'addon.calendar.confirmeventseriesdelete',\n                { $a: { name: this.event.name, count: this.event.eventcount } },\n            );\n\n            options.inputs = [\n                {\n                    type: 'radio',\n                    name: 'deleteall',\n                    checked: true,\n                    value: false,\n                    label: Translate.instant('addon.calendar.deleteoneevent'),\n                },\n                {\n                    type: 'radio',\n                    name: 'deleteall',\n                    checked: false,\n                    value: true,\n                    label: Translate.instant('addon.calendar.deleteallevents'),\n                },\n            ];\n        } else {\n            // Not repeated, display a simple confirm.\n            message = Translate.instant('addon.calendar.confirmeventdelete', { $a: this.event.name });\n        }\n\n        let deleteAll = false;\n        try {\n            deleteAll = await CoreDomUtils.showConfirm(message, title, undefined, undefined, options);\n        } catch {\n\n            // User canceled.\n            return;\n        }\n\n        const modal = await CoreDomUtils.showModalLoading('core.sending', true);\n\n        try {\n            const sent = await AddonCalendar.deleteEvent(this.event.id, this.event.name, deleteAll);\n\n            if (sent) {\n                // Event deleted, invalidate right days & months.\n                try {\n                    await AddonCalendarHelper.refreshAfterChangeEvent(this.event, deleteAll ? this.event.eventcount : 1);\n                } catch {\n                    // Ignore errors.\n                }\n            }\n\n            // Trigger an event.\n            CoreEvents.trigger(AddonCalendarProvider.DELETED_EVENT_EVENT, {\n                eventId: this.eventId,\n                sent: sent,\n            }, CoreSites.getCurrentSiteId());\n\n            if (sent) {\n                CoreDomUtils.showToast('addon.calendar.eventcalendareventdeleted', true, 3000);\n\n                // Event deleted, close the view.\n                if (CoreScreen.isMobile) {\n                    CoreNavigator.back();\n                }\n            } else {\n                // Event deleted in offline, just mark it as deleted.\n                this.event.deleted = true;\n            }\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'Error deleting event.');\n        }\n\n        modal.dismiss();\n    }\n\n    /**\n     * Undo delete the event.\n     */\n    async undoDelete(): Promise<void> {\n        if (!this.event) {\n            return;\n        }\n\n        const modal = await CoreDomUtils.showModalLoading('core.sending', true);\n\n        try {\n\n            await AddonCalendarOffline.unmarkDeleted(this.event.id);\n\n            // Trigger an event.\n            CoreEvents.trigger(AddonCalendarProvider.UNDELETED_EVENT_EVENT, {\n                eventId: this.eventId,\n            }, CoreSites.getCurrentSiteId());\n\n            this.event.deleted = false;\n\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'Error undeleting event.');\n        }\n\n        modal.dismiss();\n    }\n\n    /**\n     * Check the result of an automatic sync or a manual sync not done by this page.\n     *\n     * @param isManual Whether it's a manual sync.\n     * @param data Sync result.\n     */\n    protected checkSyncResult(isManual: boolean, data: AddonCalendarSyncEvents): void {\n        if (!data) {\n            return;\n        }\n\n        if (data.deleted && data.deleted.indexOf(this.eventId) != -1) {\n            CoreDomUtils.showToast('addon.calendar.eventcalendareventdeleted', true, 3000);\n\n            // Event was deleted, close the view.\n            if (CoreScreen.isMobile) {\n                CoreNavigator.back();\n            }\n        } else if (data.events && (!isManual || data.source != 'event')) {\n            const event = data.events.find((ev) => ev.id == this.eventId);\n\n            if (event) {\n                this.eventLoaded = false;\n                this.refreshEvent();\n            }\n        }\n    }\n\n    /**\n     * Page destroyed.\n     */\n    ngOnDestroy(): void {\n        this.editEventObserver?.off();\n        this.syncObserver?.off();\n        this.manualSyncObserver?.off();\n        this.onlineObserver?.unsubscribe();\n    }\n\n}\n","export default \":host ion-card ion-note {\\n  font-size: 1.6rem;\\n}\\n:host h1 ion-icon, :host h1 img {\\n  margin-left: 10px;\\n  margin-right: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hZGRvbnMvY2FsZW5kYXIvcGFnZXMvZXZlbnQvZXZlbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDSTtFQUNJLGlCQUFBO0FBQVI7QUFFSTtFQUNJLGlCQUFBO0VBQ0Esa0JBQUE7QUFBUiIsImZpbGUiOiJzcmMvYWRkb25zL2NhbGVuZGFyL3BhZ2VzL2V2ZW50L2V2ZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gICAgaW9uLWNhcmQgaW9uLW5vdGUge1xuICAgICAgICBmb250LXNpemU6IDEuNnJlbTtcbiAgICB9XG4gICAgaDEgaW9uLWljb24sIGgxIGltZyB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG4gICAgfVxufVxuIl19 */\";"],"sourceRoot":"webpack:///"}