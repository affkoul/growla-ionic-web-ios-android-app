{"version":3,"sources":["./src/addons/calendar/pages/edit-event/edit-event.html","./src/addons/calendar/pages/edit-event/edit-event.module.ts","./src/addons/calendar/pages/edit-event/edit-event.page.ts","./src/addons/calendar/pages/edit-event/edit-event.scss"],"names":[],"mappings":"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","file":"addons-calendar-pages-edit-event-edit-event-module.js","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar>\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button [text]=\\\"'core.back' | translate\\\"></ion-back-button>\\n        </ion-buttons>\\n        <h1>{{ title | translate }}</h1>\\n    </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n    <ion-refresher slot=\\\"fixed\\\" [disabled]=\\\"!loaded\\\" (ionRefresh)=\\\"refreshData($event.target)\\\">\\n        <ion-refresher-content pullingText=\\\"{{ 'core.pulltorefresh' | translate }}\\\"></ion-refresher-content>\\n    </ion-refresher>\\n\\n    <core-loading [hideUntil]=\\\"loaded\\\">\\n        <form [formGroup]=\\\"form\\\" *ngIf=\\\"!error\\\" #editEventForm>\\n            <!-- Event name. -->\\n            <ion-item class=\\\"ion-text-wrap\\\">\\n                <ion-label position=\\\"stacked\\\">\\n                    <p class=\\\"item-heading\\\" [core-mark-required]=\\\"true\\\">{{ 'addon.calendar.eventname' | translate }}</p>\\n                </ion-label>\\n                <ion-input type=\\\"text\\\" name=\\\"name\\\" [placeholder]=\\\"'addon.calendar.eventname' | translate\\\" formControlName=\\\"name\\\">\\n                </ion-input>\\n                <core-input-errors [control]=\\\"form.controls.name\\\" [errorMessages]=\\\"errors\\\"></core-input-errors>\\n            </ion-item>\\n\\n            <!-- Date. -->\\n            <ion-item class=\\\"ion-text-wrap\\\">\\n                <ion-label position=\\\"stacked\\\">\\n                    <p class=\\\"item-heading\\\" [core-mark-required]=\\\"true\\\">{{ 'core.date' | translate }}</p>\\n                </ion-label>\\n                <ion-datetime formControlName=\\\"timestart\\\" [placeholder]=\\\"'core.date' | translate\\\" [displayFormat]=\\\"dateFormat\\\"\\n                    [max]=\\\"maxDate\\\" [min]=\\\"minDate\\\" display-timezone=\\\"utc\\\">\\n                </ion-datetime>\\n                <core-input-errors [control]=\\\"form.controls.timestart\\\" [errorMessages]=\\\"errors\\\"></core-input-errors>\\n            </ion-item>\\n\\n            <!-- Type. -->\\n            <ion-item class=\\\"ion-text-wrap addon-calendar-eventtype-container\\\">\\n                <ion-label>\\n                    <p class=\\\"item-heading\\\" [core-mark-required]=\\\"true\\\">{{ 'addon.calendar.eventkind' | translate }}</p>\\n                </ion-label>\\n                <p *ngIf=\\\"eventTypes.length == 1\\\" slot=\\\"end\\\">{{eventTypes[0].name | translate }}</p>\\n                <ion-select\\n                    *ngIf=\\\"eventTypes.length > 1\\\"\\n                    formControlName=\\\"eventtype\\\"\\n                    interface=\\\"action-sheet\\\"\\n                    [interfaceOptions]=\\\"{header: 'addon.calendar.eventkind' | translate}\\\"\\n                >\\n                    <ion-select-option *ngFor=\\\"let type of eventTypes\\\" [value]=\\\"type.value\\\">\\n                        {{ type.name | translate }}\\n                    </ion-select-option>\\n                </ion-select>\\n            </ion-item>\\n\\n            <!-- Category. -->\\n            <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"typeControl.value == 'category'\\\">\\n                <ion-label>\\n                    <p class=\\\"item-heading\\\" [core-mark-required]=\\\"true\\\">{{ 'core.category' | translate }}</p>\\n                </ion-label>\\n                <ion-select formControlName=\\\"categoryid\\\" interface=\\\"action-sheet\\\" [placeholder]=\\\"'core.noselection' | translate\\\"\\n                    [interfaceOptions]=\\\"{header: 'core.category' | translate}\\\">\\n                    <ion-select-option *ngFor=\\\"let category of categories\\\" [value]=\\\"category.id\\\">\\n                        {{ category.name }}\\n                    </ion-select-option>\\n                </ion-select>\\n            </ion-item>\\n\\n            <!-- Course. -->\\n            <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"typeControl.value == 'course'\\\">\\n                <ion-label>\\n                    <p class=\\\"item-heading\\\" [core-mark-required]=\\\"true\\\">{{ 'core.course' | translate }}</p>\\n                </ion-label>\\n                <ion-select formControlName=\\\"courseid\\\" interface=\\\"action-sheet\\\" [placeholder]=\\\"'core.noselection' | translate\\\"\\n                    [interfaceOptions]=\\\"{header: 'core.course' | translate}\\\">\\n                    <ion-select-option *ngFor=\\\"let course of courses\\\" [value]=\\\"course.id\\\">{{ course.fullname }}</ion-select-option>\\n                </ion-select>\\n            </ion-item>\\n\\n            <!-- Group. -->\\n            <ng-container *ngIf=\\\"typeControl.value == 'group'\\\">\\n                <!-- Select the course. -->\\n                <ion-item class=\\\"ion-text-wrap\\\">\\n                    <ion-label>\\n                        <p class=\\\"item-heading\\\" [core-mark-required]=\\\"true\\\">{{ 'core.course' | translate }}</p>\\n                    </ion-label>\\n                    <ion-select formControlName=\\\"groupcourseid\\\"\\n                        interface=\\\"action-sheet\\\" [placeholder]=\\\"'core.noselection' | translate\\\"\\n                        (ionChange)=\\\"groupCourseSelected()\\\" [interfaceOptions]=\\\"{header: 'core.course' | translate}\\\">\\n                        <ion-select-option *ngFor=\\\"let course of courses\\\" [value]=\\\"course.id\\\">\\n                            {{ course.fullname }}\\n                        </ion-select-option>\\n                    </ion-select>\\n                </ion-item>\\n                <!-- The course has no groups. -->\\n                <ion-item class=\\\"ion-text-wrap core-danger-item\\\" *ngIf=\\\"!loadingGroups && courseGroupSet && !groups.length\\\">\\n                    <ion-label><p>{{ 'core.coursenogroups' | translate }}</p></ion-label>\\n                </ion-item>\\n                <!-- Select the group. -->\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"!loadingGroups && groups.length > 0\\\">\\n                    <ion-label>\\n                        <p class=\\\"item-heading\\\" [core-mark-required]=\\\"true\\\">{{ 'core.group' | translate }}</p>\\n                    </ion-label>\\n                    <ion-select formControlName=\\\"groupid\\\" interface=\\\"action-sheet\\\" [placeholder]=\\\"'core.noselection' | translate\\\"\\n                        [interfaceOptions]=\\\"{header: 'core.group' | translate}\\\">\\n                        <ion-select-option *ngFor=\\\"let group of groups\\\" [value]=\\\"group.id\\\">{{ group.name }}</ion-select-option>\\n                    </ion-select>\\n                </ion-item>\\n                <!-- Loading groups. -->\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"loadingGroups\\\">\\n                    <ion-label>\\n                        <ion-spinner *ngIf=\\\"loadingGroups\\\" [attr.aria-label]=\\\"'core.loading' | translate\\\"></ion-spinner>\\n                    </ion-label>\\n                </ion-item>\\n            </ng-container>\\n\\n            <!-- Advanced options. -->\\n            <ion-item button class=\\\"ion-text-wrap divider\\\" (click)=\\\"toggleAdvanced()\\\" detail=\\\"false\\\">\\n                <ion-icon *ngIf=\\\"!advanced\\\" name=\\\"fas-caret-right\\\" flip-rtl slot=\\\"start\\\" aria-hidden=\\\"true\\\"></ion-icon>\\n                <ion-icon *ngIf=\\\"advanced\\\" name=\\\"fas-caret-down\\\" slot=\\\"start\\\" aria-hidden=\\\"true\\\"></ion-icon>\\n                <ion-label>\\n                    <p class=\\\"item-heading\\\" *ngIf=\\\"!advanced\\\">{{ 'core.showmore' | translate }}</p>\\n                    <p class=\\\"item-heading\\\" *ngIf=\\\"advanced\\\">{{ 'core.showless' | translate }}</p>\\n                </ion-label>\\n            </ion-item>\\n\\n            <div [hidden]=\\\"!advanced\\\">\\n                <!-- Description. -->\\n                <ion-item class=\\\"ion-text-wrap\\\">\\n                    <ion-label position=\\\"stacked\\\">\\n                        <p class=\\\"item-heading\\\">{{ 'core.description' | translate }}</p>\\n                    </ion-label>\\n                    <core-rich-text-editor [control]=\\\"descriptionControl\\\" [attr.aria-label]=\\\"'core.description' | translate\\\"\\n                        [placeholder]=\\\"'core.description' | translate\\\" name=\\\"description\\\" [component]=\\\"component\\\"\\n                        [componentId]=\\\"eventId\\\" [autoSave]=\\\"false\\\"></core-rich-text-editor>\\n                </ion-item>\\n\\n                <!-- Location. -->\\n                <ion-item class=\\\"ion-text-wrap\\\">\\n                    <ion-label position=\\\"stacked\\\">\\n                        <p class=\\\"item-heading\\\">{{ 'core.location' | translate }}</p>\\n                    </ion-label>\\n                    <ion-input type=\\\"text\\\" name=\\\"location\\\" [placeholder]=\\\"'core.location' | translate\\\" formControlName=\\\"location\\\">\\n                    </ion-input>\\n                </ion-item>\\n\\n                <!-- Duration. -->\\n                <div class=\\\"ion-text-wrap addon-calendar-radio-container\\\">\\n                    <ion-radio-group formControlName=\\\"duration\\\">\\n                        <ion-item-divider class=\\\"addon-calendar-radio-title\\\">\\n                            <ion-label>\\n                                <p class=\\\"item-heading\\\">{{ 'addon.calendar.eventduration' | translate }}</p>\\n                            </ion-label>\\n                        </ion-item-divider>\\n                        <ion-item>\\n                            <ion-label>\\n                                <p>{{ 'addon.calendar.durationnone' | translate }}</p>\\n                            </ion-label>\\n                            <ion-radio slot=\\\"end\\\" [value]=\\\"0\\\"></ion-radio>\\n                        </ion-item>\\n                        <ion-item lines=\\\"none\\\">\\n                            <ion-label>\\n                                <p>{{ 'addon.calendar.durationuntil' | translate }}</p>\\n                            </ion-label>\\n                            <ion-radio slot=\\\"end\\\" [value]=\\\"1\\\"></ion-radio>\\n                        </ion-item>\\n                        <ion-item>\\n                            <ion-label position=\\\"stacked\\\"></ion-label>\\n                            <ion-datetime formControlName=\\\"timedurationuntil\\\" [max]=\\\"maxDate\\\" [min]=\\\"minDate\\\"\\n                                [placeholder]=\\\"'addon.calendar.durationuntil' | translate\\\"\\n                                [displayFormat]=\\\"dateFormat\\\" [disabled]=\\\"form.controls.duration.value != 1\\\"\\n                                display-timezone=\\\"utc\\\">\\n                            </ion-datetime>\\n                        </ion-item>\\n                        <ion-item lines=\\\"none\\\">\\n                            <ion-label>\\n                                <p>{{ 'addon.calendar.durationminutes' | translate }}</p>\\n                            </ion-label>\\n                            <ion-radio slot=\\\"end\\\" [value]=\\\"2\\\"></ion-radio>\\n                        </ion-item>\\n                        <ion-item>\\n                            <ion-label class=\\\"sr-only\\\">{{ 'addon.calendar.durationminutes' | translate }}</ion-label>\\n                            <ion-input type=\\\"number\\\" name=\\\"timedurationminutes\\\" slot=\\\"end\\\"\\n                                [placeholder]=\\\"'addon.calendar.durationminutes' | translate\\\"\\n                                formControlName=\\\"timedurationminutes\\\" [disabled]=\\\"form.controls.duration.value != 2\\\"></ion-input>\\n                        </ion-item>\\n                    </ion-radio-group>\\n                </div>\\n\\n                <!-- Repeat (for new events). -->\\n                <ng-container *ngIf=\\\"!eventId || eventId < 0\\\">\\n                    <ion-item class=\\\"ion-text-wrap divider\\\" lines=\\\"none\\\">\\n                        <ion-label>\\n                            <p class=\\\"item-heading\\\">{{ 'addon.calendar.repeatevent' | translate }}</p>\\n                        </ion-label>\\n                        <ion-checkbox slot=\\\"end\\\" formControlName=\\\"repeat\\\"></ion-checkbox>\\n                    </ion-item>\\n                    <ion-item class=\\\"ion-text-wrap\\\">\\n                        <ion-label position=\\\"stacked\\\">\\n                            <p>{{ 'addon.calendar.repeatweeksl' | translate }}</p>\\n                        </ion-label>\\n                        <ion-input type=\\\"number\\\" name=\\\"repeats\\\" formControlName=\\\"repeats\\\" [disabled]=\\\"!form.controls.repeat.value\\\">\\n                        </ion-input>\\n                    </ion-item>\\n                </ng-container>\\n\\n                <!-- Apply to all events or just this one (editing repeated events). -->\\n                <div *ngIf=\\\"eventRepeatId\\\" class=\\\"ion-text-wrap addon-calendar-radio-container\\\">\\n                    <ion-radio-group formControlName=\\\"repeateditall\\\">\\n                        <ion-item-divider class=\\\"addon-calendar-radio-title\\\">\\n                            <ion-label>\\n                                <p class=\\\"item-heading\\\">{{ 'addon.calendar.repeatedevents' | translate }}</p>\\n                            </ion-label>\\n                        </ion-item-divider>\\n                        <ion-item>\\n                            <ion-label>\\n                                <p>{{ 'addon.calendar.repeateditall' | translate:{$a: otherEventsCount} }}</p>\\n                            </ion-label>\\n                            <ion-radio slot=\\\"end\\\" value=\\\"1\\\"></ion-radio>\\n                        </ion-item>\\n                        <ion-item>\\n                            <ion-label>\\n                                <p>{{ 'addon.calendar.repeateditthis' | translate }}</p>\\n                            </ion-label>\\n                            <ion-radio slot=\\\"end\\\" value=\\\"0\\\"></ion-radio>\\n                        </ion-item>\\n                    </ion-radio-group>\\n                </div>\\n            </div>\\n\\n            <ion-item>\\n                <ion-label>\\n                    <ion-row>\\n                        <ion-col>\\n                            <ion-button expand=\\\"block\\\" (click)=\\\"submit()\\\" [disabled]=\\\"!form.valid\\\" type=\\\"submit\\\">\\n                                {{ 'core.save' | translate }}\\n                            </ion-button>\\n                        </ion-col>\\n                        <ion-col *ngIf=\\\"hasOffline && eventId && eventId < 0\\\">\\n                            <ion-button expand=\\\"block\\\" color=\\\"light\\\" (click)=\\\"discard()\\\">\\n                                {{ 'core.discard' | translate }}\\n                            </ion-button>\\n                        </ion-col>\\n                    </ion-row>\\n                </ion-label>\\n            </ion-item>\\n        </form>\\n    </core-loading>\\n</ion-content>\\n\";","// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { CoreSharedModule } from '@/core/shared.module';\nimport { CoreEditorComponentsModule } from '@features/editor/components/components.module';\n\nimport { AddonCalendarEditEventPage } from './edit-event.page';\nimport { CanLeaveGuard } from '@guards/can-leave';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: AddonCalendarEditEventPage,\n        canDeactivate: [CanLeaveGuard],\n    },\n];\n\n@NgModule({\n    imports: [\n        RouterModule.forChild(routes),\n        CoreSharedModule,\n        CoreEditorComponentsModule,\n    ],\n    declarations: [\n        AddonCalendarEditEventPage,\n    ],\n    exports: [RouterModule],\n})\nexport class AddonCalendarEditEventPageModule {}\n","// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, OnInit, OnDestroy, ViewChild, ElementRef, Optional } from '@angular/core';\nimport { FormControl, FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { IonRefresher } from '@ionic/angular';\nimport { CoreEvents } from '@singletons/events';\nimport { CoreGroup, CoreGroups } from '@services/groups';\nimport { CoreSites } from '@services/sites';\nimport { CoreSync } from '@services/sync';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreTimeUtils } from '@services/utils/time';\nimport { CoreUtils } from '@services/utils/utils';\nimport { CoreCategoryData, CoreCourses, CoreCourseSearchedData, CoreEnrolledCourseData } from '@features/courses/services/courses';\nimport { CoreSplitViewComponent } from '@components/split-view/split-view';\nimport { CoreEditorRichTextEditorComponent } from '@features/editor/components/rich-text-editor/rich-text-editor';\nimport {\n    AddonCalendarProvider,\n    AddonCalendarGetCalendarAccessInformationWSResponse,\n    AddonCalendarEvent,\n    AddonCalendarEventType,\n    AddonCalendar,\n    AddonCalendarSubmitCreateUpdateFormDataWSParams,\n} from '../../services/calendar';\nimport { AddonCalendarOffline } from '../../services/calendar-offline';\nimport { AddonCalendarEventTypeOption, AddonCalendarHelper } from '../../services/calendar-helper';\nimport { AddonCalendarSync, AddonCalendarSyncProvider } from '../../services/calendar-sync';\nimport { CoreSite } from '@classes/site';\nimport { Translate } from '@singletons';\nimport { CoreFilterHelper } from '@features/filter/services/filter-helper';\nimport { AddonCalendarOfflineEventDBRecord } from '../../services/database/calendar-offline';\nimport { CoreError } from '@classes/errors/error';\nimport { CoreNavigator } from '@services/navigator';\nimport { CanLeave } from '@guards/can-leave';\nimport { CoreForms } from '@singletons/form';\n\n/**\n * Page that displays a form to create/edit an event.\n */\n@Component({\n    selector: 'page-addon-calendar-edit-event',\n    templateUrl: 'edit-event.html',\n    styleUrls: ['edit-event.scss'],\n})\nexport class AddonCalendarEditEventPage implements OnInit, OnDestroy, CanLeave {\n\n    @ViewChild(CoreEditorRichTextEditorComponent) descriptionEditor!: CoreEditorRichTextEditorComponent;\n    @ViewChild('editEventForm') formElement!: ElementRef;\n\n    title = 'addon.calendar.newevent';\n    dateFormat: string;\n    component = AddonCalendarProvider.COMPONENT;\n    loaded = false;\n    hasOffline = false;\n    eventTypes: AddonCalendarEventTypeOption[] = [];\n    categories: CoreCategoryData[] = [];\n    courses: CoreCourseSearchedData[] | CoreEnrolledCourseData[] = [];\n    groups: CoreGroup[] = [];\n    loadingGroups = false;\n    courseGroupSet = false;\n    advanced = false;\n    errors: Record<string, string>;\n    error = false;\n    eventRepeatId?: number;\n    otherEventsCount = 0;\n    eventId?: number;\n    maxDate: string;\n    minDate: string;\n\n    // Form variables.\n    form: FormGroup;\n    typeControl: FormControl;\n    groupControl: FormControl;\n    descriptionControl: FormControl;\n\n    protected courseId!: number;\n    protected originalData?: AddonCalendarOfflineEventDBRecord;\n    protected currentSite: CoreSite;\n    protected types: { [name: string]: boolean } = {}; // Object with the supported types.\n    protected showAll = false;\n    protected isDestroyed = false;\n    protected gotEventData = false;\n\n    constructor(\n        protected fb: FormBuilder,\n        @Optional() protected svComponent: CoreSplitViewComponent,\n    ) {\n        this.currentSite = CoreSites.getCurrentSite()!;\n        this.errors = {\n            required: Translate.instant('core.required'),\n        };\n\n        // Calculate format to use. ion-datetime doesn't support escaping characters ([]), so we remove them.\n        this.dateFormat = CoreTimeUtils.convertPHPToMoment(Translate.instant('core.strftimedatetimeshort'))\n            .replace(/[[\\]]/g, '');\n\n        this.form = new FormGroup({});\n\n        // Initialize form variables.\n        this.typeControl = this.fb.control('', Validators.required);\n        this.groupControl = this.fb.control('');\n        this.descriptionControl = this.fb.control('');\n        this.form.addControl('name', this.fb.control('', Validators.required));\n        this.form.addControl('eventtype', this.typeControl);\n        this.form.addControl('categoryid', this.fb.control(''));\n        this.form.addControl('groupcourseid', this.fb.control(''));\n        this.form.addControl('groupid', this.groupControl);\n        this.form.addControl('description', this.descriptionControl);\n        this.form.addControl('location', this.fb.control(''));\n        this.form.addControl('duration', this.fb.control(0));\n        this.form.addControl('timedurationminutes', this.fb.control(''));\n        this.form.addControl('repeat', this.fb.control(false));\n        this.form.addControl('repeats', this.fb.control('1'));\n        this.form.addControl('repeateditall', this.fb.control(1));\n\n        this.maxDate = CoreTimeUtils.getDatetimeDefaultMax();\n        this.minDate = CoreTimeUtils.getDatetimeDefaultMin();\n    }\n\n    /**\n     * Component being initialized.\n     */\n    ngOnInit(): void {\n        this.eventId = CoreNavigator.getRouteNumberParam('eventId') || undefined;\n        this.courseId = CoreNavigator.getRouteNumberParam('courseId') || 0;\n        this.title = this.eventId ? 'addon.calendar.editevent' : 'addon.calendar.newevent';\n\n        const timestamp = CoreNavigator.getRouteNumberParam('timestamp');\n        const currentDate = CoreTimeUtils.toDatetimeFormat(timestamp);\n        this.form.addControl('timestart', this.fb.control(currentDate, Validators.required));\n        this.form.addControl('timedurationuntil', this.fb.control(currentDate));\n        this.form.addControl('courseid', this.fb.control(this.courseId));\n\n        this.fetchData().finally(() => {\n            this.originalData = CoreUtils.clone(this.form.value);\n            this.loaded = true;\n        });\n    }\n\n    /**\n     * Fetch the data needed to render the form.\n     *\n     * @param refresh Whether it's refreshing data.\n     * @return Promise resolved when done.\n     */\n    protected async fetchData(): Promise<void> {\n        let accessInfo: AddonCalendarGetCalendarAccessInformationWSResponse;\n\n        this.error = false;\n\n        // Get access info.\n        try {\n            accessInfo = await AddonCalendar.getAccessInformation(this.courseId);\n            this.types = await AddonCalendar.getAllowedEventTypes(this.courseId);\n\n            const promises: Promise<void>[] = [];\n            const eventTypes = AddonCalendarHelper.getEventTypeOptions(this.types);\n\n            if (!eventTypes.length) {\n                throw new CoreError(Translate.instant('addon.calendar.nopermissiontoupdatecalendar'));\n            }\n\n            if (this.eventId && !this.gotEventData) {\n                // Editing an event, get the event data. Wait for sync first.\n                promises.push(AddonCalendarSync.waitForSync(AddonCalendarSyncProvider.SYNC_ID).then(async () => {\n                    // Do not block if the scope is already destroyed.\n                    if (!this.isDestroyed && this.eventId) {\n                        CoreSync.blockOperation(AddonCalendarProvider.COMPONENT, this.eventId);\n                    }\n\n                    let eventForm: AddonCalendarEvent | AddonCalendarOfflineEventDBRecord | undefined;\n\n                    // Get the event offline data if there's any.\n                    try {\n                        eventForm = await AddonCalendarOffline.getEvent(this.eventId!);\n\n                        this.hasOffline = true;\n                    } catch {\n                        // No offline data.\n                        this.hasOffline = false;\n                    }\n\n                    if (this.eventId! > 0) {\n                        // It's an online event. get its data from server.\n                        const event = await AddonCalendar.getEventById(this.eventId!);\n\n                        if (!eventForm) {\n                            eventForm = event; // Use offline data first.\n                        }\n\n                        this.eventRepeatId = event?.repeatid;\n                        if (this.eventRepeatId) {\n\n                            this.otherEventsCount = event.eventcount ? event.eventcount - 1 : 0;\n                        }\n                    }\n\n                    this.gotEventData = true;\n\n                    if (eventForm) {\n                        // Load the data in the form.\n                        return this.loadEventData(eventForm, this.hasOffline);\n                    }\n\n                    return;\n                }));\n            }\n\n            if (this.types.category) {\n                // Get the categories.\n                promises.push(this.fetchCategories());\n            }\n\n            this.showAll = CoreUtils.isTrueOrOne(this.currentSite.getStoredConfig('calendar_adminseesall')) &&\n                accessInfo.canmanageentries;\n\n            if (this.types.course || this.types.groups) {\n                promises.push(this.fetchCourses());\n            }\n            await Promise.all(promises);\n\n            if (!this.typeControl.value) {\n                // Initialize event type value. If course is allowed, select it first.\n                if (this.types.course) {\n                    this.typeControl.setValue(AddonCalendarEventType.COURSE);\n                } else {\n                    this.typeControl.setValue(eventTypes[0].value);\n                }\n            }\n\n            this.eventTypes = eventTypes;\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'Error getting data.');\n            this.error = true;\n        }\n    }\n\n    protected async fetchCategories(): Promise<void> {\n        this.categories = await CoreCourses.getCategories(0, true);\n    }\n\n    protected async fetchCourses(): Promise<void> {\n        // Get the courses.\n        let courses = await (this.showAll ? CoreCourses.getCoursesByField() : CoreCourses.getUserCourses());\n\n        if (courses.length < 0) {\n            this.courses = [];\n\n            return;\n        }\n\n        const courseFillterFullname = (course: CoreCourseSearchedData | CoreEnrolledCourseData): Promise<void> =>\n            CoreFilterHelper.getFiltersAndFormatText(course.fullname, 'course', course.id)\n                .then((result) => {\n                    course.fullname = result.text;\n\n                    return;\n                }).catch(() => {\n                    // Ignore errors.\n                });\n\n        if (this.showAll) {\n            // Remove site home from the list of courses.\n            const siteHomeId = CoreSites.getCurrentSiteHomeId();\n\n            if ('contacts' in courses[0]) {\n                courses = (courses as CoreCourseSearchedData[]).filter((course) => course.id != siteHomeId);\n            } else {\n                courses = (courses as CoreEnrolledCourseData[]).filter((course) => course.id != siteHomeId);\n            }\n        }\n\n        // Format the name of the courses.\n        if ('contacts' in courses[0]) {\n            await Promise.all((courses as CoreCourseSearchedData[]).map(courseFillterFullname));\n        } else {\n            await Promise.all((courses as CoreEnrolledCourseData[]).map(courseFillterFullname));\n        }\n\n        // Sort courses by name.\n        this.courses = courses.sort((a, b) => {\n            const compareA = a.fullname.toLowerCase();\n            const compareB = b.fullname.toLowerCase();\n\n            return compareA.localeCompare(compareB);\n        });\n\n    }\n\n    /**\n     * Load an event data into the form.\n     *\n     * @param event Event data.\n     * @param isOffline Whether the data is from offline or not.\n     * @return Promise resolved when done.\n     */\n    protected async loadEventData(\n        event: AddonCalendarEvent | AddonCalendarOfflineEventDBRecord,\n        isOffline: boolean,\n    ): Promise<void> {\n        if (!event) {\n            return;\n        }\n\n        const offlineEvent = (event as AddonCalendarOfflineEventDBRecord);\n        const onlineEvent = (event as AddonCalendarEvent);\n\n        const courseId = isOffline ? offlineEvent.courseid : onlineEvent.course?.id;\n\n        this.form.controls.name.setValue(event.name);\n        this.form.controls.timestart.setValue(CoreTimeUtils.toDatetimeFormat(event.timestart * 1000));\n        this.form.controls.eventtype.setValue(event.eventtype);\n        this.form.controls.categoryid.setValue(event.categoryid || '');\n        this.form.controls.courseid.setValue(courseId || '');\n        this.form.controls.groupcourseid.setValue(courseId || '');\n        this.form.controls.groupid.setValue(event.groupid || '');\n        this.form.controls.description.setValue(event.description);\n        this.form.controls.location.setValue(event.location);\n\n        if (isOffline) {\n            // It's an offline event, use the data as it is.\n            this.form.controls.duration.setValue(offlineEvent.duration);\n            this.form.controls.timedurationuntil.setValue(\n                CoreTimeUtils.toDatetimeFormat(((offlineEvent.timedurationuntil || 0) * 1000) || Date.now()),\n            );\n            this.form.controls.timedurationminutes.setValue(offlineEvent.timedurationminutes || '');\n            this.form.controls.repeat.setValue(!!offlineEvent.repeat);\n            this.form.controls.repeats.setValue(offlineEvent.repeats || '1');\n            this.form.controls.repeateditall.setValue(offlineEvent.repeateditall || 1);\n        } else {\n            // Online event, we'll have to calculate the data.\n\n            if (onlineEvent.timeduration > 0) {\n                this.form.controls.duration.setValue(1);\n                this.form.controls.timedurationuntil.setValue(CoreTimeUtils.toDatetimeFormat(\n                    (onlineEvent.timestart + onlineEvent.timeduration) * 1000,\n                ));\n            } else {\n                // No duration.\n                this.form.controls.duration.setValue(0);\n                this.form.controls.timedurationuntil.setValue(CoreTimeUtils.toDatetimeFormat());\n            }\n\n            this.form.controls.timedurationminutes.setValue('');\n            this.form.controls.repeat.setValue(!!onlineEvent.repeatid);\n            this.form.controls.repeats.setValue(onlineEvent.eventcount || '1');\n            this.form.controls.repeateditall.setValue(1);\n        }\n\n        if (event.eventtype == AddonCalendarEventType.GROUP && courseId) {\n            await this.loadGroups(courseId);\n        }\n    }\n\n    /**\n     * Pull to refresh.\n     *\n     * @param refresher Refresher.\n     */\n    refreshData(refresher?: IonRefresher): void {\n        const promises = [\n            AddonCalendar.invalidateAccessInformation(this.courseId),\n            AddonCalendar.invalidateAllowedEventTypes(this.courseId),\n        ];\n\n        if (this.types) {\n            if (this.types.category) {\n                promises.push(CoreCourses.invalidateCategories(0, true));\n            }\n            if (this.types.course || this.types.groups) {\n                if (this.showAll) {\n                    promises.push(CoreCourses.invalidateCoursesByField());\n                } else {\n                    promises.push(CoreCourses.invalidateUserCourses());\n                }\n            }\n        }\n\n        Promise.all(promises).finally(() => {\n            this.fetchData().finally(() => {\n                refresher?.complete();\n            });\n        });\n    }\n\n    /**\n     * A course was selected, get its groups.\n     */\n    async groupCourseSelected(): Promise<void> {\n        const courseId = this.form.controls.groupcourseid.value;\n        if (!courseId) {\n            return;\n        }\n\n        const modal = await CoreDomUtils.showModalLoading();\n\n        try {\n            await this.loadGroups(courseId);\n\n            this.groupControl.setValue('');\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'Error getting data.');\n        }\n\n        modal.dismiss();\n    }\n\n    /**\n     * Load groups of a certain course.\n     *\n     * @param courseId Course ID.\n     * @return Promise resolved when done.\n     */\n    protected async loadGroups(courseId: number): Promise<void> {\n        this.loadingGroups = true;\n\n        try {\n            this.groups = await CoreGroups.getUserGroupsInCourse(courseId);\n            this.courseGroupSet = true;\n        } finally {\n            this.loadingGroups = false;\n        }\n    }\n\n    /**\n     * Show or hide advanced form fields.\n     */\n    toggleAdvanced(): void {\n        this.advanced = !this.advanced;\n    }\n\n    selectDuration(duration: string): void {\n        this.form.controls.duration.setValue(duration);\n    }\n\n    /**\n     * Create the event.\n     */\n    async submit(): Promise<void> {\n        // Validate data.\n        const formData = this.form.value;\n        const timeStartDate = CoreTimeUtils.convertToTimestamp(formData.timestart, true);\n        const timeUntilDate = CoreTimeUtils.convertToTimestamp(formData.timedurationuntil, true);\n        const timeDurationMinutes = parseInt(formData.timedurationminutes || '', 10);\n        let error: string | undefined;\n\n        if (formData.eventtype == AddonCalendarEventType.COURSE && !formData.courseid) {\n            error = 'core.selectacourse';\n        } else if (formData.eventtype == AddonCalendarEventType.GROUP && !formData.groupcourseid) {\n            error = 'core.selectacourse';\n        } else if (formData.eventtype == AddonCalendarEventType.GROUP && !formData.groupid) {\n            error = 'core.selectagroup';\n        } else if (formData.eventtype == AddonCalendarEventType.CATEGORY && !formData.categoryid) {\n            error = 'core.selectacategory';\n        } else if (formData.duration == 1 && timeStartDate > timeUntilDate) {\n            error = 'addon.calendar.invalidtimedurationuntil';\n        } else if (formData.duration == 2 && (isNaN(timeDurationMinutes) || timeDurationMinutes < 1)) {\n            error = 'addon.calendar.invalidtimedurationminutes';\n        }\n\n        if (error) {\n            // Show error and stop.\n            CoreDomUtils.showErrorModal(Translate.instant(error));\n\n            return;\n        }\n\n        // Format the data to send.\n        const data: AddonCalendarSubmitCreateUpdateFormDataWSParams = {\n            name: formData.name,\n            eventtype: formData.eventtype,\n            timestart: timeStartDate,\n            description: {\n                text: formData.description || '',\n                format: 1,\n            },\n            location: formData.location,\n            duration: formData.duration,\n            repeat: formData.repeat,\n        };\n\n        if (formData.eventtype == AddonCalendarEventType.COURSE) {\n            data.courseid = formData.courseid;\n        } else if (formData.eventtype == AddonCalendarEventType.GROUP) {\n            data.groupcourseid = formData.groupcourseid;\n            data.groupid = formData.groupid;\n        } else if (formData.eventtype == AddonCalendarEventType.CATEGORY) {\n            data.categoryid = formData.categoryid;\n        }\n\n        if (formData.duration == 1) {\n            data.timedurationuntil = timeUntilDate;\n        } else if (formData.duration == 2) {\n            data.timedurationminutes = formData.timedurationminutes;\n        }\n\n        if (formData.repeat) {\n            data.repeats = Number(formData.repeats);\n        }\n\n        if (this.eventRepeatId) {\n            data.repeatid = this.eventRepeatId;\n            data.repeateditall = formData.repeateditall;\n        }\n\n        // Send the data.\n        const modal = await CoreDomUtils.showModalLoading('core.sending', true);\n        let event: AddonCalendarEvent | AddonCalendarOfflineEventDBRecord;\n\n        try {\n            const result = await AddonCalendar.submitEvent(this.eventId, data);\n            event = result.event;\n\n            CoreForms.triggerFormSubmittedEvent(this.formElement, result.sent, this.currentSite.getId());\n\n            if (result.sent) {\n                // Event created or edited, invalidate right days & months.\n                const numberOfRepetitions = formData.repeat ? formData.repeats :\n                    (data.repeateditall && this.otherEventsCount ? this.otherEventsCount + 1 : 1);\n\n                try {\n                    await AddonCalendarHelper.refreshAfterChangeEvent(result.event, numberOfRepetitions);\n                } catch {\n                    // Ignore errors.\n                }\n            }\n\n            this.returnToList(event);\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'Error sending data.');\n        }\n\n        modal.dismiss();\n    }\n\n    /**\n     * Convenience function to update or return to event list depending on device.\n     *\n     * @param event Event.\n     */\n    protected returnToList(event?: AddonCalendarEvent | AddonCalendarOfflineEventDBRecord): void {\n        // Unblock the sync because the view will be destroyed and the sync process could be triggered before ngOnDestroy.\n        this.unblockSync();\n\n        if (this.eventId && this.eventId > 0) {\n            // Editing an event.\n            CoreEvents.trigger(\n                AddonCalendarProvider.EDIT_EVENT_EVENT,\n                { eventId: this.eventId },\n                this.currentSite.getId(),\n            );\n        } else {\n            if (event) {\n                CoreEvents.trigger(\n                    AddonCalendarProvider.NEW_EVENT_EVENT,\n                    { eventId: event.id! },\n                    this.currentSite.getId(),\n                );\n            } else {\n                CoreEvents.trigger(AddonCalendarProvider.NEW_EVENT_DISCARDED_EVENT, {}, this.currentSite.getId());\n            }\n        }\n\n        if (this.svComponent?.outletActivated) {\n            // Empty form.\n            this.hasOffline = false;\n            this.form.reset(this.originalData);\n            this.originalData = CoreUtils.clone(this.form.value);\n        } else {\n            this.originalData = undefined; // Avoid asking for confirmation.\n            CoreNavigator.back();\n        }\n    }\n\n    /**\n     * Discard an offline saved discussion.\n     */\n    async discard(): Promise<void> {\n        try {\n            await CoreDomUtils.showConfirm(Translate.instant('core.areyousure'));\n            try {\n                await AddonCalendarOffline.deleteEvent(this.eventId!);\n\n                CoreForms.triggerFormCancelledEvent(this.formElement, this.currentSite.getId());\n\n                this.returnToList();\n            } catch {\n                // Shouldn't happen.\n                CoreDomUtils.showErrorModal('Error discarding event.');\n            }\n        } catch {\n            // Ignore errors\n        }\n    }\n\n    /**\n     * Check if we can leave the page or not.\n     *\n     * @return Resolved with true if we can leave it, rejected if not.\n     */\n    async canLeave(): Promise<boolean> {\n        if (AddonCalendarHelper.hasEventDataChanged(this.form.value, this.originalData)) {\n            // Show confirmation if some data has been modified.\n            await CoreDomUtils.showConfirm(Translate.instant('core.confirmcanceledit'));\n        }\n\n        CoreForms.triggerFormCancelledEvent(this.formElement, this.currentSite.getId());\n\n        return true;\n    }\n\n    /**\n     * Unblock sync.\n     */\n    protected unblockSync(): void {\n        if (this.eventId) {\n            CoreSync.unblockOperation(AddonCalendarProvider.COMPONENT, this.eventId);\n        }\n    }\n\n    /**\n     * Page destroyed.\n     */\n    ngOnDestroy(): void {\n        this.unblockSync();\n        this.isDestroyed = true;\n    }\n\n}\n","export default \":host .addon-calendar-eventtype-container.item-select-disabled ion-label, :host .addon-calendar-eventtype-container.item-select-disabled ion-select {\\n  opacity: 1;\\n}\\n:host .addon-calendar-eventtype-container.item-select-disabled ion-select::part(icon) {\\n  display: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hZGRvbnMvY2FsZW5kYXIvcGFnZXMvZWRpdC1ldmVudC9lZGl0LWV2ZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRVE7RUFDSSxVQUFBO0FBRFo7QUFJUTtFQUNJLGFBQUE7QUFGWiIsImZpbGUiOiJzcmMvYWRkb25zL2NhbGVuZGFyL3BhZ2VzL2VkaXQtZXZlbnQvZWRpdC1ldmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuICAgIC5hZGRvbi1jYWxlbmRhci1ldmVudHR5cGUtY29udGFpbmVyLml0ZW0tc2VsZWN0LWRpc2FibGVkIHtcbiAgICAgICAgaW9uLWxhYmVsLCBpb24tc2VsZWN0IHtcbiAgICAgICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIH1cblxuICAgICAgICBpb24tc2VsZWN0OjpwYXJ0KGljb24pIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXX0= */\";"],"sourceRoot":"webpack:///"}