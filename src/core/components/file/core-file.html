<ion-item *ngIf="file" button class="ion-text-wrap item-file" (click)="download($event, true)" detail="false">
    <ion-thumbnail slot="start">
        <img [src]="fileIcon" alt="" role="presentation" />
    </ion-thumbnail>
    <ion-label>
        <p class="item-heading">{{fileName}}</p>
        <p *ngIf="fileSizeReadable">{{ fileSizeReadable }}</p>
        <p *ngIf="showTime">{{ timemodified * 1000 | coreFormatDate }}</p>
    </ion-label>
    <div slot="end" class="flex-row">
        <core-download-refresh [status]="state" [enabled]="canDownload" [loading]="isDownloading"
            [canTrustDownload]="!alwaysDownload" (action)="download()" size="small">
        </core-download-refresh>

        <ion-button fill="clear" *ngIf="isDownloaded && isIOS" (click)="openFile($event, true)" color="dark"
            [title]="openButtonLabel | translate">
            <ion-icon slot="icon-only" [name]="openButtonIcon" aria-hidden="true"></ion-icon>
        </ion-button>

        <ion-button fill="clear" *ngIf="!isDownloading && canDelete" (click)="delete($event)"
            [attr.aria-label]="'core.delete' | translate" color="danger" size="small">
            <ion-icon slot="icon-only" name="fas-trash" aria-hidden="true"></ion-icon>
        </ion-button>
    </div>
</ion-item>
